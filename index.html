<!doctype html>
<html lang="en" dir="ltr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AssyrianVerb To Order Game</title>

  <!-- Noto Sans Syriac Eastern for answers -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Syriac+Eastern:wght@400;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#F7F9FC; --card:#FFFFFF; --ink:#0F172A; --muted:#475569;
      --accent:#2563EB; --success:#16A34A; --warn:#D97706; --danger:#DC2626; --line:#E5E7EB;
      --radius:16px;
    }
    *{box-sizing:border-box}
    body{margin:0; background:var(--bg); color:var(--ink); font:16px/1.4 "Segoe UI", system-ui, Arial, sans-serif;}
    .wrap{max-width:1000px; margin:24px auto; padding:0 16px;}
    header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:12px;}
    h1{font-size:22px; margin:0; font-weight:800;}
    .controls{display:flex; flex-wrap:wrap; align-items:center; gap:8px;}
    select, input[type="text"]{
      padding:8px 10px; border:1px solid var(--line); border-radius:10px; background:#fff; color:var(--ink);
    }
    .btn{appearance:none; border:0; padding:10px 14px; border-radius:10px; color:#fff; font-weight:700; cursor:pointer;}
    .btn.primary{background:var(--accent)}
    .btn.success{background:var(--success)}
    .btn.neutral{background:#334155}
    .btn.danger{background:var(--danger)}
    .pill{display:inline-block; padding:2px 10px; border-radius:999px; background:#EEF2FF; color:#3730A3; font-weight:700; font-size:12px;}
    .timer{font-size:56px; font-weight:800; color:var(--accent); margin:4px 0 8px}
    .prompt{font-size:30px; font-weight:800; margin:8px 0 6px}
    .food{font-size:18px; font-style:italic; color:var(--warn); margin:0 0 6px}
    .answer{font-family:"Noto Sans Syriac Eastern", "Segoe UI", system-ui, Arial, sans-serif; font-size:48px; color:var(--success); margin:12px 0 18px}
    .card{background:var(--card); border-radius:var(--radius); padding:16px; box-shadow:0 1px 0 rgba(0,0,0,.04); border:1px solid var(--line);}
    .row{display:flex; gap:16px; flex-wrap:wrap; align-items:center}
    .spacer{flex:1}
    .legend{color:var(--muted); font-size:12px}
    .scores .team{min-width:220px}
    .scores .score{font-size:26px; font-weight:800; margin:6px 0}
    .scores .grid{display:flex; gap:6px; flex-wrap:wrap}
    .point{padding:8px 10px; border-radius:10px; background:#E2E8F0; color:#0F172A; font-weight:800; border:1px solid #CBD5E1; cursor:pointer;}
    .point:hover{background:#CBD5E1}
    .hidden{display:none !important}
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>AssyrianVerb To Order Game</h1>
      <div class="controls">
        <button class="btn neutral" id="fullscreenBtn" title="Toggle fullscreen">Fullscreen</button>
        <label class="legend" for="timerSelect">Timer:</label>
        <select id="timerSelect" title="Seconds per round">
          <option>20</option><option selected>30</option><option>45</option><option>60</option>
        </select>
        <button class="btn primary" id="startPauseBtn" title="Start/Pause the countdown">Start</button>
        <button class="btn danger" id="resetScoresBtn" title="Reset both teams to 0">Reset Scores</button>
      </div>
    </header>

    <div class="timer" id="timerLabel">30 sec</div>

    <div class="prompt" id="promptLabel"><!-- English prompt only --></div>
    <div class="food" id="foodLabel"><!-- Bonus: English food only --></div>
    <div class="answer" id="answerLabel"><!-- Syriac answer only --></div>

    <div class="row">
      <button class="btn success" id="showAnswerBtn" title="Reveal Syriac answer (pronoun + (ܒܸܕ) + verb + food in Syriac)">Show Answer</button>
      <button class="btn primary" id="nextBtn" title="Next random prompt (auto-starts timer)">Next Question</button>
      <span id="bonusPill" class="pill hidden">BONUS ROUND (+2)</span>
      <div class="spacer"></div>
    </div>

    <div class="card scores" style="margin-top:14px">
      <div class="row">
        <div class="team">
          <div class="legend">Team 1 Name</div>
          <input id="t1Name" type="text" value="Team 1" />
          <div class="score" id="t1Score">0</div>
          <div class="grid">
            <button class="point" id="t1Plus">+1 (Correct)</button>
            <button class="point" id="t1Minus">-1 (Penalty)</button>
            <button class="point" id="t1Bonus" disabled>+2 BONUS</button>
          </div>
        </div>

        <div class="team">
          <div class="legend">Team 2 Name</div>
          <input id="t2Name" type="text" value="Team 2" />
          <div class="score" id="t2Score">0</div>
          <div class="grid">
            <button class="point" id="t2Plus">+1 (Correct)</button>
            <button class="point" id="t2Minus">-1 (Penalty)</button>
            <button class="point" id="t2Bonus" disabled>+2 BONUS</button>
          </div>
        </div>

        <div class="legend" style="align-self:flex-end">
          <strong>Highlights:</strong>
          Next Question = new prompt & auto-start timer • Show Answer = Syriac only • Bonus buttons appear only in bonus rounds (+2)
        </div>
      </div>
    </div>
  </div>

<script>
/* ---------------- DATA ---------------- */
const PHRASES = {
  "I order (masc.)": "ܛܵܠܒܹܢ",
  "I will order (masc.)": "ܛܵܠܒܹܢ ܒܸܕ",
  "I order (fem.)": "ܛܵܠܒܵܢ",
  "I will order (fem.)": "ܛܵܠܒܵܢ ܒܸܕ",

  "you order (masc.)": "ܛܵܠܒܹܬ",
  "you will order (masc.)": "ܛܵܠܒܹܬ ܒܸܕ",
  "you order (fem.)": "ܛܵܠܒܵܬܝ",
  "you will order (fem.)": "ܛܵܠܒܵܬܝ ܒܸܕ",

  "he orders": "ܛܵܠܹܒ",
  "he will order": "ܛܵܠܹܒ ܒܸܕ",
  "she orders": "ܛܵܠܒܵܐ",
  "she will order": "ܛܵܠܒܵܐ ܒܸܕ",

  "we order": "ܛܵܠܒܲܚ",
  "we will order": "ܛܵܠܒܲܚ ܒܸܕ",

  "they order": "ܛܵܠܒܝܼ",
  "they will order": "ܛܵܠܒܝܼ ܒܸܕ",

  "y’all order": "ܛܵܠܒܝܼܬܘܿܢ",
  "y’all will order": "ܛܵܠܒܝܼܬܘܿܢ ܒܸܕ",
};

const PRONOUNS = {
  i_masc: "ܐܵܢܵܐ",
  i_fem:  "ܐܵܢܵܐ",
  you_masc:"ܐܲܢ݇ܬ",
  you_fem: "ܐܲܢ݇ܬܝ",
  he:      "ܗ̇ܘ",
  she:     "ܗ̇ܝ",
  we:      "ܐܲܚܢܲܢ",
  yall:    "ܐܲܚܬܘܿܢ",
  they:    "ܐܵܢܝܼ", // corrected
};

// English foods
const FOODS_EN = [
  "potatoes","rice","beans","stew","kabobs","chicken","steak","lamb",
  "fish","fries","water","fizzy drinks","yogurt drink","lemonade",
  "orange juice","dolma","red rice","okra stew","yogurt",
  "Assyrian egg rolls","tea","coffee","hummus","baba ganosh",
  "salad","pickles","meatballs"
];

// Syriac foods aligned to FOODS_EN
const FOODS_SY = [
  "ܟܸܪܬܘܿܦܹ̈ܐ","ܪܸܙܵܐ","ܚܲܒ̣ܨܹ̈ܐ","ܫܘܼܪܒ̣ܵܐ","ܟܵܒܵܒܹ̈ܐ","ܟܬܵܝܬܵܐ","ܒܸܣܪܵܐ","ܥܸܪܒܵܐ",
  "ܢܘܼܢܵܐ","ܟܸܪܬܘܿܦܹ̈ܐ ܩܸܠܝܹ̈ܐ","ܡܝܼܵܐ","ܫܬܵܝܬܵܐ ܒܲܩܒܸܩܵܢܵܐ","ܕܲܘܹ̈ܐ","ܡܝܼܵܐ ܕܠܝܼܡܘܿܢܹ̈ܐ",
  "ܡܝܼܵܐ ܕܦܘܼܪ̈ܬܩܵܠܹܐ","ܕܘܿܠܡܵܐ","ܪܸܙܵܐ ܣܡܘܿܩܵܐ","ܒܲܡܝܹ̈ܐ","ܡܲܣܬܵܐ",
  "ܒܘܼܪܲܟ","ܟ̰ܵܐܝ","ܩܲܗܘܵܐ","ܚܲܪ̈ܛܡܵܢܹܐ ܓܪ̈ܝܼܣܹܐ","ܒܵܕܸܡܓ̰ܵܢܹ̈ܐ ܓܪ̈ܝܼܣܹܐ",
  "ܣܲܠܵܛܵܐ","ܛܘܼܪ̈ܫܝܹܐ","ܟܸܦܬܹ̈ܐ"
];

/* ------------- DOM refs ------------- */
const timerLabel   = document.getElementById('timerLabel');
const promptLabel  = document.getElementById('promptLabel');
const foodLabel    = document.getElementById('foodLabel');
const answerLabel  = document.getElementById('answerLabel');
const startPauseBtn= document.getElementById('startPauseBtn');
const nextBtn      = document.getElementById('nextBtn');
const showAnswerBtn= document.getElementById('showAnswerBtn');
const timerSelect  = document.getElementById('timerSelect');
const fullscreenBtn= document.getElementById('fullscreenBtn');
const resetScoresBtn=document.getElementById('resetScoresBtn');
const bonusPill    = document.getElementById('bonusPill');

const t1ScoreEl = document.getElementById('t1Score');
const t2ScoreEl = document.getElementById('t2Score');
const t1Plus = document.getElementById('t1Plus');
const t1Minus= document.getElementById('t1Minus');
const t1Bonus= document.getElementById('t1Bonus');
const t2Plus = document.getElementById('t2Plus');
const t2Minus= document.getElementById('t2Minus');
const t2Bonus= document.getElementById('t2Bonus');

/* ------------- State ------------- */
let timerSeconds = 30;
let currentTime = timerSeconds;
let timerId = null;
let timerRunning = false;

let currentPrompt = '';
let isBonus = false;
let currentFoodIndex = null; // index into FOODS_EN/SY

let score1 = 0, score2 = 0;

/* ------------- Helpers ------------- */
function randomPrompt(){
  const keys = Object.keys(PHRASES);
  return keys[Math.floor(Math.random()*keys.length)];
}
function isFuture(prompt){ return prompt.toLowerCase().includes('will'); }
function stripBed(s){ return s.replace(/\s*ܒܸܕ\s*$/,'').trim(); }

function detectPronoun(prompt){
  const p = prompt.toLowerCase();
  if(p.startsWith('i '))       return p.includes('(fem') ? PRONOUNS.i_fem : PRONOUNS.i_masc;
  if(p.startsWith('you '))     return p.includes('(fem') ? PRONOUNS.you_fem : PRONOUNS.you_masc;
  if(p.startsWith('he '))      return PRONOUNS.he;
  if(p.startsWith('she '))     return PRONOUNS.she;
  if(p.startswith('we '))      return PRONOUNS.we;
  if(p.startsWith('they '))    return PRONOUNS.they;
  if(p.startsWith('y’all'))    return PRONOUNS.yall;
  return '';
}

function updateTimerLabel(){
  timerLabel.textContent = isBonus ? '--' : `${currentTime} sec`;
}

function setBonusUI(on){
  isBonus = on;
  bonusPill.classList.toggle('hidden', !on);
  t1Bonus.disabled = !on;
  t2Bonus.disabled = !on;
  startPauseBtn.disabled = on; // freeze timer during bonus
  updateTimerLabel();
}

/* ------------- Timer controls ------------- */
function stopTimer(){
  if(timerId){ clearInterval(timerId); timerId = null; }
  timerRunning = false;
  startPauseBtn.textContent = 'Start';
}
function startTimer(){
  if(isBonus) return; // frozen during bonus
  stopTimer();
  timerRunning = true;
  startPauseBtn.textContent = 'Pause';
  timerId = setInterval(()=>{
    if(currentTime>0){ currentTime--; updateTimerLabel(); }
    else { stopTimer(); }
  },1000);
}
function startPause(){
  if(isBonus) return;
  if(timerRunning) stopTimer(); else startTimer();
}

/* ------------- Flow ------------- */
function nextQuestion(){
  // reset timer to selected value
  currentTime = timerSeconds;
  updateTimerLabel();
  answerLabel.textContent = '';

  // choose new prompt (English only)
  currentPrompt = randomPrompt();
  promptLabel.textContent = currentPrompt;

  // maybe bonus (English food only in question)
  if(Math.random() < 0.20){
    currentFoodIndex = Math.floor(Math.random()*FOODS_EN.length);
    foodLabel.textContent = `Bonus Round: with ${FOODS_EN[currentFoodIndex]}`;
    setBonusUI(true);
    stopTimer(); // frozen during bonus
  }else{
    currentFoodIndex = null;
    foodLabel.textContent = '';
    setBonusUI(false);
    // auto-start timer on Next Question (as requested)
    startTimer();
  }
}

function showAnswer(){
  // Build Syriac-only answer: pronoun + (ܒܸܕ if future) + verb (+ Syriac food)
  const base = PHRASES[currentPrompt] || '';
  const pron = detectPronoun(currentPrompt);
  const fut  = isFuture(currentPrompt);
  const verb = stripBed(base);
  let built  = fut ? `${pron}  ܒܸܕ  ${verb}` : `${pron}  ${verb}`;
  if(currentFoodIndex !== null){
    built += `  ${FOODS_SY[currentFoodIndex]}`; // Syriac only (no English gloss)
  }
  answerLabel.textContent = built;
}

/* ------------- Scores ------------- */
function renderScores(){
  t1ScoreEl.textContent = String(score1);
  t2ScoreEl.textContent = String(score2);
}
t1Plus.onclick = ()=>{ score1=Math.max(0,score1+1); renderScores(); };
t1Minus.onclick= ()=>{ score1=Math.max(0,score1-1); renderScores(); };
t1Bonus.onclick= ()=>{ if(isBonus){ score1=Math.max(0,score1+2); renderScores(); } };

t2Plus.onclick = ()=>{ score2=Math.max(0,score2+1); renderScores(); };
t2Minus.onclick= ()=>{ score2=Math.max(0,score2-1); renderScores(); };
t2Bonus.onclick= ()=>{ if(isBonus){ score2=Math.max(0,score2+2); renderScores(); } };

resetScoresBtn.onclick = ()=>{ score1=0; score2=0; renderScores(); };

/* ------------- UI events ------------- */
showAnswerBtn.onclick = showAnswer;
nextBtn.onclick = nextQuestion;
startPauseBtn.onclick = startPause;
timerSelect.onchange = (e)=>{ timerSeconds = parseInt(e.target.value,10); currentTime = timerSeconds; updateTimerLabel(); };
fullscreenBtn.onclick = ()=>{
  const el = document.documentElement;
  if(!document.fullscreenElement){ el.requestFullscreen?.(); } else { document.exitFullscreen?.(); }
};

/* ------------- Init ------------- */
(function init(){
  timerSeconds = parseInt(timerSelect.value,10);
  currentTime = timerSeconds;
  updateTimerLabel();
  renderScores();
  nextQuestion(); // load first prompt (will auto-start timer if not a bonus)
})();
</script>
</body>
</html>
